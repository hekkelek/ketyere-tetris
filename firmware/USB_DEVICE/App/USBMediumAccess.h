/*! *******************************************************************************************************
* Copyright (c) 2018-2022 K. Sz. Horvath
*
* All rights reserved
*
* \file USBMediumAccess.h
*
* \brief Virtual USB Mass Storage device with FAT32 file system
*
* \author K. Sz. Horvath
*
**********************************************************************************************************/

#ifndef USBMEDIUMACCESS_H
#define USBMEDIUMACCESS_H

//--------------------------------------------------------------------------------------------------------/
// Include files
//--------------------------------------------------------------------------------------------------------/
#include "types.h"


//--------------------------------------------------------------------------------------------------------/
// Definitions
//--------------------------------------------------------------------------------------------------------/
#define MASS_BLOCK_COUNT   (0x10000u)  //!< Number of blocks per mass storage device (==32 MBytes in this case)
#define MASS_BLOCK_SIZE        (512u)  //!< Number of bytes per blocks


//--------------------------------------------------------------------------------------------------------/
// Types
//--------------------------------------------------------------------------------------------------------/
typedef enum
{
  USB_MEDIUM_OK = 0x01u,
  USB_MEDIUM_FAIL
} E_USB_MEDIUM_STATE;


//--------------------------------------------------------------------------------------------------------/
// Global variables
//--------------------------------------------------------------------------------------------------------/


//--------------------------------------------------------------------------------------------------------/
// Interface functions
//--------------------------------------------------------------------------------------------------------/
void               USBMediumAccess_Init( void );
E_USB_MEDIUM_STATE USBMediumAccess_GetStatus( void );
void               USBMediumAccess_Eject( void );
void               USBMediumAccess_Read( U32 u32StartBlock, U8* pu8Buffer, U32 u32BlockNum );
void               USBMediumAccess_Write( U32 u32StartBlock, U8* pu8Buffer, U32 u32BlockNum );


#endif  // USBMEDIUMACCESS_H

//-----------------------------------------------< EOF >--------------------------------------------------/
